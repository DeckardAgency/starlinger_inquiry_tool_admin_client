<div class="sidebar" [class.sidebar--collapsed]="isCollapsed()">
  <div class="sidebar__content">
    <nav class="sidebar__nav">
      <ul class="sidebar__list">
        <li class="sidebar__item sidebar__top">
          <a routerLink="/dashboard" routerLinkActive="sidebar__link--active" class="sidebar__link">
            <span class="icon-home sidebar__icon">
              <svg width="16" height="16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M6 14.667V8h4v6.667M2 6l6-4.667L14 6v7.333a1.334 1.334 0 0 1-1.333 1.334H3.333A1.334 1.334 0 0 1 2 13.333V6Z" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>
            </span>
            <span class="sidebar__link-text">Dashboard</span>
          </a>
          <button class="sidebar__toggle" (click)="toggleSidebar()">
            <span class="icon-collapse sidebar__icon" [class.sidebar__icon--rotated]="isCollapsed()">
              <svg width="16" height="16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M6 2v12m4.667-4-2-2 2-2M3.333 2h9.334C13.403 2 14 2.597 14 3.333v9.334c0 .736-.597 1.333-1.333 1.333H3.333A1.333 1.333 0 0 1 2 12.667V3.333C2 2.597 2.597 2 3.333 2Z" stroke="#232323" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>
            </span>
          </button>
        </li>

        <li class="sidebar__section">
          <h2 class="sidebar__section-title">Customer hub</h2>
          <ul class="sidebar__sub-list">
            <li class="sidebar__item">
              <a routerLink="/accounts/list" routerLinkActive="sidebar__link--active" class="sidebar__link">
                <span class="icon-shop sidebar__icon">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">
                      <path d="M12.6668 14V12.6667C12.6668 11.9594 12.3859 11.2811 11.8858 10.781C11.3857 10.281 10.7074 10 10.0002 10H6.00016C5.29292 10 4.61464 10.281 4.11454 10.781C3.61445 11.2811 3.3335 11.9594 3.3335 12.6667V14M10.6668 4.66667C10.6668 6.13943 9.47292 7.33333 8.00016 7.33333C6.5274 7.33333 5.3335 6.13943 5.3335 4.66667C5.3335 3.19391 6.5274 2 8.00016 2C9.47292 2 10.6668 3.19391 10.6668 4.66667Z" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </span>
                <span class="sidebar__link-text">Accounts</span>
              </a>
            </li>
            <li class="sidebar__item">
              <a routerLink="/contacts/list" routerLinkActive="sidebar__link--active" class="sidebar__link">
                <span class="icon-manual-entry sidebar__icon">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">
                      <path d="M10.6667 12.0002C10.6667 11.2929 10.3857 10.6146 9.88562 10.1145C9.38552 9.61445 8.70724 9.3335 8 9.3335M8 9.3335C7.29276 9.3335 6.61448 9.61445 6.11438 10.1145C5.61428 10.6146 5.33333 11.2929 5.33333 12.0002M8 9.3335C9.10457 9.3335 10 8.43807 10 7.3335C10 6.22893 9.10457 5.3335 8 5.3335C6.89543 5.3335 6 6.22893 6 7.3335C6 8.43807 6.89543 9.3335 8 9.3335ZM5.33333 1.3335V2.66683M10.6667 1.3335V2.66683M3.33333 2.66683H12.6667C13.403 2.66683 14 3.26378 14 4.00016V13.3335C14 14.0699 13.403 14.6668 12.6667 14.6668H3.33333C2.59695 14.6668 2 14.0699 2 13.3335V4.00016C2 3.26378 2.59695 2.66683 3.33333 2.66683Z" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </span>
                <span class="sidebar__link-text">Contacts</span>
              </a>
            </li>
          </ul>
        </li>

        <li class="sidebar__section">
            <h2 class="sidebar__section-title">Inquiry hub</h2>
            <ul class="sidebar__sub-list">
                <li class="sidebar__item">
                <a routerLink="/orders/list" [class.sidebar__link--active]="isRouteActive('orders')" class="sidebar__link">
                <span class="icon-shop sidebar__icon">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">
                      <g clip-path="url(#clip0_866_12494)">
                        <path d="M1.3335 4.66683L4.2735 1.72683C4.39753 1.60205 4.54504 1.50305 4.70752 1.43555C4.86999 1.36804 5.04422 1.33336 5.22016 1.3335H10.7802C10.9561 1.33336 11.1303 1.36804 11.2928 1.43555C11.4553 1.50305 11.6028 1.60205 11.7268 1.72683L14.6668 4.66683M1.3335 4.66683H14.6668M1.3335 4.66683V6.66683C1.3335 7.02045 1.47397 7.35959 1.72402 7.60964C1.97407 7.85969 2.31321 8.00016 2.66683 8.00016M14.6668 4.66683V6.66683C14.6668 7.02045 14.5264 7.35959 14.2763 7.60964C14.0263 7.85969 13.6871 8.00016 13.3335 8.00016M2.66683 8.00016V13.3335C2.66683 13.6871 2.80731 14.0263 3.05735 14.2763C3.3074 14.5264 3.64654 14.6668 4.00016 14.6668H12.0002C12.3538 14.6668 12.6929 14.5264 12.943 14.2763C13.193 14.0263 13.3335 13.6871 13.3335 13.3335V8.00016M2.66683 8.00016C3.05634 7.97872 3.42834 7.83133 3.72683 7.58016C3.80638 7.52268 3.90202 7.49174 4.00016 7.49174C4.09831 7.49174 4.19395 7.52268 4.2735 7.58016C4.57198 7.83133 4.94399 7.97872 5.3335 8.00016C5.72301 7.97872 6.09501 7.83133 6.3935 7.58016C6.47304 7.52268 6.56869 7.49174 6.66683 7.49174C6.76497 7.49174 6.86062 7.52268 6.94016 7.58016C7.23865 7.83133 7.61065 7.97872 8.00016 8.00016C8.38967 7.97872 8.76168 7.83133 9.06016 7.58016C9.13971 7.52268 9.23535 7.49174 9.3335 7.49174C9.43164 7.49174 9.52728 7.52268 9.60683 7.58016C9.90532 7.83133 10.2773 7.97872 10.6668 8.00016C11.0563 7.97872 11.4283 7.83133 11.7268 7.58016C11.8064 7.52268 11.902 7.49174 12.0002 7.49174C12.0983 7.49174 12.194 7.52268 12.2735 7.58016C12.572 7.83133 12.944 7.97872 13.3335 8.00016M10.0002 14.6668V12.0002C10.0002 11.6465 9.85969 11.3074 9.60964 11.0574C9.35959 10.8073 9.02045 10.6668 8.66683 10.6668H7.3335C6.97987 10.6668 6.64074 10.8073 6.39069 11.0574C6.14064 11.3074 6.00016 11.6465 6.00016 12.0002V14.6668" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                      </g>
                      <defs>
                        <clipPath id="clip0_866_12494">
                          <rect width="16" height="16" fill="white"/>
                        </clipPath>
                      </defs>
                    </svg>
                </span>
                  <span class="sidebar__link-text">Shop orders</span>
                </a>
                </li>
                <li class="sidebar__item">
                <a routerLink="/manual-entry/list" routerLinkActive="sidebar__link--active" class="sidebar__link">
                <span class="icon-manual-entry sidebar__icon">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">
                      <path d="M14 10V12.6667C14 13.0203 13.8595 13.3594 13.6095 13.6095C13.3594 13.8595 13.0203 14 12.6667 14H3.33333C2.97971 14 2.64057 13.8595 2.39052 13.6095C2.14048 13.3594 2 13.0203 2 12.6667V10M11.3333 5.33333L8 2M8 2L4.66667 5.33333M8 2V10" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </span>
                  <span class="sidebar__link-text">Manual entry</span>
                </a>
                </li>
            </ul>
        </li>

        <li class="sidebar__section">
            <h2 class="sidebar__section-title">Product hub</h2>
            <ul class="sidebar__sub-list">
                <li class="sidebar__item">
                  <a routerLink="/machines/list" routerLinkActive="sidebar__link--active" class="sidebar__link">
                <span class="icon-shop sidebar__icon">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">
                      <path d="M8.00016 5.33317V2.6665H5.3335M1.3335 9.33317H2.66683M13.3335 9.33317H14.6668M10.0002 8.6665V9.99984M6.00016 8.6665V9.99984M4.00016 5.33317H12.0002C12.7365 5.33317 13.3335 5.93012 13.3335 6.6665V11.9998C13.3335 12.7362 12.7365 13.3332 12.0002 13.3332H4.00016C3.26378 13.3332 2.66683 12.7362 2.66683 11.9998V6.6665C2.66683 5.93012 3.26378 5.33317 4.00016 5.33317Z" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </span>
                      <span class="sidebar__link-text">Machines</span>
                  </a>
                </li>
                <li class="sidebar__item">
                    <a routerLink="/products/list" [class.sidebar__link--active]="isRouteActive('products')" class="sidebar__link">
                        <span class="icon-manual-entry sidebar__icon">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">
                              <path d="M5 2.84652L11 6.27985M2.20003 4.6665L8.00003 7.99984M8.00003 7.99984L13.8 4.6665M8.00003 7.99984L8 14.6665M14 5.33311C13.9998 5.09929 13.938 4.86965 13.821 4.66721C13.704 4.46478 13.5358 4.29668 13.3333 4.17977L8.66667 1.51311C8.46397 1.39608 8.23405 1.33447 8 1.33447C7.76595 1.33447 7.53603 1.39608 7.33333 1.51311L2.66667 4.17977C2.46418 4.29668 2.29599 4.46478 2.17897 4.66721C2.06196 4.86965 2.00024 5.09929 2 5.33311V10.6664C2.00024 10.9003 2.06196 11.1299 2.17897 11.3323C2.29599 11.5348 2.46418 11.7029 2.66667 11.8198L7.33333 14.4864C7.53603 14.6035 7.76595 14.6651 8 14.6651C8.23405 14.6651 8.46397 14.6035 8.66667 14.4864L13.3333 11.8198C13.5358 11.7029 13.704 11.5348 13.821 11.3323C13.938 11.1299 13.9998 10.9003 14 10.6664V5.33311Z" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </span>
                        <span class="sidebar__link-text">Products</span>
                    </a>
                </li>
                <li class="sidebar__item">
                    <a routerLink="/discounts/list" routerLinkActive="sidebar__link--active" class="sidebar__link">
                        <span class="icon-manual-entry sidebar__icon">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">
                              <path d="M10 6L6 10M6 6H6.00667M10 10H10.0067M3.33333 2H12.6667C13.403 2 14 2.59695 14 3.33333V12.6667C14 13.403 13.403 14 12.6667 14H3.33333C2.59695 14 2 13.403 2 12.6667V3.33333C2 2.59695 2.59695 2 3.33333 2Z" stroke="#3F3F46" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </span>
                        <span class="sidebar__link-text">Discounts</span>
                    </a>
                </li>
            </ul>
        </li>

        <li class="sidebar__section">
            <h2 class="sidebar__section-title">User hub</h2>
            <ul class="sidebar__sub-list">
                <li class="sidebar__item">
                    <a routerLink="/shop" routerLinkActive="sidebar__link--active" class="sidebar__link">
                        <span class="icon-shop sidebar__icon">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">
                              <path d="M10.6668 14V12.6667C10.6668 11.9594 10.3859 11.2811 9.88578 10.781C9.38568 10.281 8.70741 10 8.00016 10H4.00016C3.29292 10 2.61464 10.281 2.11454 10.781C1.61445 11.2811 1.3335 11.9594 1.3335 12.6667V14M14.6668 13.9999V12.6666C14.6664 12.0757 14.4697 11.5018 14.1077 11.0348C13.7457 10.5678 13.2389 10.2343 12.6668 10.0866M10.6668 2.08659C11.2404 2.23346 11.7489 2.56706 12.1119 3.0348C12.475 3.50254 12.6721 4.07781 12.6721 4.66992C12.6721 5.26204 12.475 5.83731 12.1119 6.30505C11.7489 6.77279 11.2404 7.10639 10.6668 7.25326M8.66683 4.66667C8.66683 6.13943 7.47292 7.33333 6.00016 7.33333C4.5274 7.33333 3.3335 6.13943 3.3335 4.66667C3.3335 3.19391 4.5274 2 6.00016 2C7.47292 2 8.66683 3.19391 8.66683 4.66667Z" stroke="#3F3F46" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </span>
                        <span class="sidebar__link-text">Users</span>
                    </a>
                </li>
                <li class="sidebar__item">
                  <a routerLink="/manual-entry/input-form" routerLinkActive="sidebar__link--active" class="sidebar__link">
                    <span class="icon-manual-entry sidebar__icon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">
                          <path d="M9.33317 1.33325V3.99992C9.33317 4.35354 9.47365 4.69268 9.72369 4.94273C9.97374 5.19278 10.3129 5.33325 10.6665 5.33325H13.3332M5.99984 9.99992L7.33317 11.3333L9.99984 8.66659M9.99984 1.33325H3.99984C3.64622 1.33325 3.30708 1.47373 3.05703 1.72378C2.80698 1.97382 2.6665 2.31296 2.6665 2.66659V13.3333C2.6665 13.6869 2.80698 14.026 3.05703 14.2761C3.30708 14.5261 3.64622 14.6666 3.99984 14.6666H11.9998C12.3535 14.6666 12.6926 14.5261 12.9426 14.2761C13.1927 14.026 13.3332 13.6869 13.3332 13.3333V4.66659L9.99984 1.33325Z" stroke="#3F3F46" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </span>
                    <span class="sidebar__link-text">Roles</span>
                    </a>
                </li>
            </ul>
        </li>
      </ul>
    </nav>

    <div class="sidebar__footer">
      <ul class="sidebar__list">
        @if (authService.isAuthenticated()) {
          <li class="sidebar__item">
            <div class="sidebar__user">
              <div class="sidebar__user-row" (click)="toggleUserDropdown($event)" role="button">
                <span class="icon-user sidebar__icon">
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">
                    <path d="M12.6667 14V12.6667C12.6667 11.9594 12.3857 11.2811 11.8856 10.781C11.3855 10.281 10.7072 10 10 10H6C5.29275 10 4.61448 10.281 4.11438 10.781C3.61428 11.2811 3.33333 11.9594 3.33333 12.6667V14M10.6667 4.66667C10.6667 6.13943 9.47276 7.33333 8 7.33333C6.52724 7.33333 5.33333 6.13943 5.33333 4.66667C5.33333 3.19391 6.52724 2 8 2C9.47276 2 10.6667 3.19391 10.6667 4.66667Z" stroke="#3F3F46" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
                </span>
                <div class="sidebar__user-info">
                  <span class="sidebar__user-name">{{ userFullName }}</span>
                  <span class="sidebar__user-role">{{ userRole }}</span>
                </div>
                <span class="sidebar__user-icon-arrow" [class.sidebar__user-icon-arrow--rotated]="isUserDropdownOpen()">
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">
                    <path d="M4 6L8 10L12 6" stroke="#3F3F46" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
                </span>
              </div>

              @if (isUserDropdownOpen()) {
                <div class="sidebar__user-dropdown" @fadeInOut>
                  <div class="sidebar__user-logout" (click)="logout()" role="button">
                    <span>
                      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">
                        <path d="M6 14H3.33333C2.97971 14 2.64057 13.8595 2.39052 13.6095C2.14048 13.3594 2 13.0203 2 12.6667V3.33333C2 2.97971 2.14048 2.64057 2.39052 2.39052C2.64057 2.14048 2.97971 2 3.33333 2H6M10.6667 11.3333L14 8M14 8L10.6667 4.66667M14 8H6" stroke="#09090B" stroke-width="1.33" stroke-linecap="round" stroke-linejoin="round"/>
                      </svg>
                    </span>
                    Logout
                  </div>
                </div>
              }
            </div>
          </li>
        }
      </ul>
    </div>
  </div>
</div>
